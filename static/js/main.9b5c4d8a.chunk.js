(this["webpackJsonpsimple-chart-editor"]=this["webpackJsonpsimple-chart-editor"]||[]).push([[0],{112:function(e,t,a){e.exports={container:"MenuTabs_container__n1KG1",slider:"MenuTabs_slider__RNfST"}},114:function(e,t,a){e.exports={container:"Chart_container__3SDj1",chart:"Chart_chart__21AJE"}},155:function(e,t,a){e.exports={container:"CoreAdjusterTab_container__3mmIh"}},156:function(e,t,a){e.exports={container:"Select_container__14ZIf"}},162:function(e,t,a){e.exports={container:"Input_container__1fHr_"}},165:function(e,t,a){e.exports={container:"Menu_container__3OY_Q"}},168:function(e,t,a){e.exports={label:"Axis_label__3WUIH",tick:"Axis_tick__22G0b"}},178:function(e,t,a){e.exports=a(351)},33:function(e,t,a){e.exports={container:"App_container__2i36C",header:"App_header__3MgOT",headerShift:"App_headerShift__2QOBj",title:"App_title__2C-7r",menuButton:"App_menuButton__3Kpmo",menu:"App_menu__X-A5N",main:"App_main__aDOxM",mainShift:"App_mainShift__2UwM6"}},351:function(e,t,a){"use strict";a.r(t);var n,r,l,c=a(0),o=a.n(c),i=a(9),u=a.n(i),s=a(29),m=a(59),d=a(10);!function(e){e[e.linear=0]="linear",e[e.basis=1]="basis",e[e.monotoneX=2]="monotoneX",e[e.monotoneY=3]="monotoneY",e[e.natural=4]="natural",e[e.step=5]="step",e[e.stepBefore=6]="stepBefore",e[e.stepAfter=7]="stepAfter"}(n||(n={})),function(e){e[e.full=0]="full",e[e.dashArray=1]="dashArray"}(r||(r={})),function(e){e.bottom="axisBottom",e.left="axisLeft"}(l||(l={}));var f=a(395),b=a(392),v=a(112),h=a.n(v),p=function(e){var t=Object(c.useRef)(null),a=Object(c.useMemo)((function(){return e.tabs.findIndex((function(t){return t.tabId===e.selectedTabId}))}),[e.selectedTabId,e.tabs]),n=Object(c.useMemo)((function(){return t.current?t.current.getBoundingClientRect().width:0}),[t.current]);return o.a.createElement("div",{className:h.a.container,ref:t},o.a.createElement("div",{className:h.a.slider,style:{transform:"translateX(-".concat(a*n,"px)")}},e.tabs.map((function(e){return o.a.createElement(e.component,Object(d.a)(Object(d.a)({},e.props),{},{key:e.tabId}))}))))},E=a(155),_=a.n(E),O=function(){return o.a.createElement("div",{className:_.a.container},o.a.createElement("p",null,"\u0422\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438: \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u043e\u0441\u0435\u0439, \u044d\u043a\u0441\u043f\u043e\u0440\u0442/\u0438\u043c\u043f\u043e\u0440\u0442 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432, \u0438 \u0442.\u0434."))},j=a(45),g=a(394),N=a(398),C=a(156),k=a.n(C),y=function(e){var t=e.label,a=e.options,n=e.value,r=e.onChange,l=e.disabled;return o.a.createElement("div",{className:k.a.container},o.a.createElement("label",null,t),o.a.createElement("div",null,o.a.createElement(g.a,{value:n,onChange:function(e){return r(e.target.value)},fullWidth:!0,disabled:l},a.map((function(e){return o.a.createElement(N.a,{key:e.value,value:e.value},e.label)})))))},x=[{value:n.linear,label:"linear"},{value:n.basis,label:"basis"},{value:n.monotoneX,label:"monotone x"},{value:n.monotoneY,label:"monotone y"},{value:n.natural,label:"natural"},{value:n.step,label:"step"},{value:n.stepBefore,label:"step before"},{value:n.stepAfter,label:"step after"}],A=[{value:r.full,label:"\u0437\u0430\u043b\u0438\u0432\u043a\u0430"},{value:r.dashArray,label:"\u043f\u0443\u043d\u043a\u0442\u0438\u0440"}],T=a(399),I=a(385),M=a(160),w=a(64),L=a.n(w),S=function(e){var t=e.label,a=e.value,n=e.onChange,r=e.disabled;return o.a.createElement("div",{className:L.a.container},o.a.createElement("label",{className:L.a.label},t),o.a.createElement("div",{className:L.a.input},o.a.createElement(T.a,{interactive:!0,disableFocusListener:r,disableHoverListener:r,disableTouchListener:r,title:o.a.createElement(M.ChromePicker,{color:a,onChange:function(e){return n(e.hex)}})},o.a.createElement(I.a,{disabled:r},o.a.createElement("div",{className:L.a.icon,style:{background:a}})))))},R=a(19),B=a(378),F=a(162),H=a.n(F),P=function(e){var t=e.label,a=e.value,n=e.onChange,r=e.disabled,l=Object(c.useState)(e.value),i=Object(R.a)(l,2),u=i[0],s=i[1];Object(c.useEffect)((function(){a!==u&&s(e.value)}),[a]);return o.a.createElement("div",{className:H.a.container},o.a.createElement("label",null,t),o.a.createElement("div",null,o.a.createElement(B.a,{value:u,onChange:function(e){s(e.target.value)},onFocus:function(e){return e.target.select()},onBlur:function(){u!==e.value&&n(u)},disabled:r})))},W=a(63),V=a.n(W),D=a(384),Y=a(386),U=a(387),X=a(388),z=a(389),G=a(390),J=a(163),Q=a.n(J),Z=a(164),K=a.n(Z),$=a(89),q=a.n($),ee=function(e){var t=e.data,a=e.onChange,n=e.disabled,r=Object(c.useRef)(null),l=Object(c.useState)(null),i=Object(R.a)(l,2),u=i[0],s=i[1],m=Object(c.useState)({offset:0,value:0}),f=Object(R.a)(m,2),b=f[0],v=f[1];Object(c.useEffect)((function(){Number(u)===u&&v(t[u])}),[u]);var h=Object(c.useMemo)((function(){var e;return(null===(e=t[t.length-1])||void 0===e?void 0:e.offset)||0}),[t]),p=Object(c.useMemo)((function(){var e;return(null===(e=t[t.length-1])||void 0===e?void 0:e.value)||0}),[t]),E=Object(c.useState)({offset:0,value:0}),_=Object(R.a)(E,2),O=_[0],j=_[1];Object(c.useEffect)((function(){j({offset:h,value:p})}),[h,p]);return o.a.createElement(D.a,{className:V.a.table},o.a.createElement(Y.a,{stickyHeader:!0,"aria-label":"sticky table"},o.a.createElement(U.a,null,o.a.createElement(X.a,null,o.a.createElement(z.a,null,"Offset"),o.a.createElement(z.a,null,"Value"),o.a.createElement(z.a,null,"Edit"))),o.a.createElement(G.a,null,t.map((function(e,r){var l=e.offset,c=e.value;return o.a.createElement(X.a,{key:r},o.a.createElement(z.a,null,u===r?o.a.createElement(B.a,{defaultValue:l,type:"number",value:b.offset,onFocus:function(e){return e.target.select()},onChange:function(e){return v(Object(d.a)(Object(d.a)({},b),{},{offset:e.target.value}))}}):l),o.a.createElement(z.a,null,u===r?o.a.createElement(B.a,{defaultValue:c,type:"number",value:b.value,onFocus:function(e){return e.target.select()},onChange:function(e){return v(Object(d.a)(Object(d.a)({},b),{},{value:e.target.value}))}}):c),o.a.createElement(z.a,null,u===r?o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){s(null),function(){if(""===b.offset&&""===b.value)return a(t.filter((function(e,t){return t!==u})));a(t.map((function(e,t){return t===u?{offset:Number(b.offset),value:Number(b.value)}:e})))}()}},o.a.createElement(Q.a,null)):o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){return s(r)}},o.a.createElement(K.a,null))))})),!n&&o.a.createElement(X.a,null,o.a.createElement(z.a,null,o.a.createElement(B.a,{inputRef:r,defaultValue:h,value:O.offset,type:"number",onFocus:function(e){return e.target.select()},onChange:function(e){return j(Object(d.a)(Object(d.a)({},O),{},{offset:e.target.value}))}})),o.a.createElement(z.a,null,o.a.createElement(B.a,{defaultValue:p,value:O.value,type:"number",onFocus:function(e){return e.target.select()},onChange:function(e){return j(Object(d.a)(Object(d.a)({},O),{},{value:e.target.value}))}})),o.a.createElement(z.a,null,o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){a(t.concat({offset:Number(O.offset),value:Number(O.value)})),setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.focus()}),100)}},o.a.createElement(q.a,null)))))))},te=a(391),ae=function(e){var t=Object(s.c)((function(t){return t.chart.currentLine!==e.lineId})),a=Object(s.c)((function(t){return t.chart.lines.find((function(t){return t.id===e.lineId}))})),n=Object(s.b)(),r=Object(c.useCallback)((function(e){return Object(c.useCallback)((function(t){return n((r=a.id,l=Object(j.a)({},e,t),{type:"UPDATE_LINE_ACTION",id:r,settings:l}));var r,l}),[e])}),[a.id]);return o.a.createElement("div",{className:V.a.container},o.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),o.a.createElement(P,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:",value:a.label,onChange:r("label"),disabled:t}),o.a.createElement(y,{label:"\u0422\u0438\u043f \u043a\u0440\u0438\u0432\u043e\u0439:",options:x,value:a.curve,onChange:r("curve"),disabled:t}),o.a.createElement(S,{label:"\u0426\u0432\u0435\u0442 \u043b\u0438\u043d\u0438\u0438:",value:a.color,onChange:r("color"),disabled:t}),o.a.createElement(y,{label:"\u0422\u0438\u043f \u0437\u0430\u043b\u0438\u0432\u043a\u0438:",options:A,value:a.fillType,onChange:r("fillType"),disabled:t}),o.a.createElement(te.a,{onClick:function(){return n({type:"REMOVE_LINE_ACTION",id:e.lineId})},type:"button",color:"primary",variant:"contained",className:V.a.button,disabled:t},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement("hr",null),o.a.createElement("h3",null,"\u0414\u0430\u043d\u043d\u044b\u0435:"),o.a.createElement(ee,{data:a.data,onChange:r("data"),disabled:t}))},ne=a(166),re=a.n(ne),le=a(167),ce=a.n(le),oe=a(165),ie=a.n(oe),ue=function(){var e=Object(s.c)((function(e){return e.chart})),t=e.currentLine,a=e.lines,n=Object(c.useMemo)((function(){var e=[{tabId:"corePresets",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:o.a.createElement(re.a,null),component:O}];return a.forEach((function(t){e.push({tabId:t.id,label:t.label,icon:o.a.createElement(ce.a,{style:{color:t.color}}),component:ae,props:{lineId:t.id}})})),e}),[a]),r=Object(s.b)();return o.a.createElement("div",{className:ie.a.container},o.a.createElement(f.a,{value:t,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",onChange:function(e,t){return t&&function(e){return r({type:"CHANGE_CURRENT_LINE",id:e})}(t)}},n.map((function(e){return o.a.createElement(b.a,{key:e.tabId,wrapped:!0,icon:e.icon,label:e.label,value:e.tabId})})),o.a.createElement(b.a,{key:"add",icon:o.a.createElement(q.a,null),label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",value:null,onClick:function(){r({type:"ADD_LINE_ACTION"})}})),o.a.createElement(p,{selectedTabId:t,tabs:n}))},se={currentLine:"corePresets",lines:[]},me=Object(m.b)({chart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CURRENT_LINE":return Object(d.a)(Object(d.a)({},e),{},{currentLine:t.id});case"ADD_LINE_ACTION":var a,l=((null===(a=e.lines[e.lines.length-1])||void 0===a?void 0:a.id)||0)+1;return Object(d.a)(Object(d.a)({},e),{},{lines:e.lines.concat({id:l,color:"gray",data:[],curve:n.linear,label:"\u041d\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f",fillType:r.full}),currentLine:l});case"REMOVE_LINE_ACTION":var c="corePresets",o=e.lines.filter((function(e,a,n){var r,l=e.id!==t.id;return l&&(null===(r=n[a])||void 0===r?void 0:r.id)&&(c=n[a].id),l}));return Object(d.a)(Object(d.a)({},e),{},{lines:o,currentLine:c});case"UPDATE_LINE_ACTION":return Object(d.a)(Object(d.a)({},e),{},{lines:e.lines.map((function(e){return e.id===t.id?Object(d.a)(Object(d.a)({},e),t.settings):e}))});default:return e}}}),de=Object(m.c)(me),fe=a(393),be=a(171),ve=Object(be.a)({overrides:{MuiTabs:{root:{height:"64px"},scroller:{overflowY:"hidden"},scrollButtons:{width:"30px"}},MuiTab:{wrapper:{fontSize:"10px"},labelIcon:{minWidth:"auto"},textColorPrimary:{"&$selected":{color:"#1976d2"}}},MuiButton:{containedPrimary:{backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1768ba"}}},MuiTooltip:{tooltip:{backgroundColor:"transparent"}}}}),he=a(397),pe=a(170),Ee=a.n(pe),_e=a(169),Oe=a.n(_e),je=a(113),ge=a.n(je),Ne=a(114),Ce=a.n(Ne),ke=Object(c.createContext)({width:0,height:0,margin:{top:0,right:0,bottom:0,left:0},boundedWidth:0,boundedHeight:0}),ye=function(e){var t=e.dimensions,a=e.children;return o.a.createElement("div",{className:Ce.a.container},o.a.createElement("svg",{className:Ce.a.chart},o.a.createElement("g",{transform:"translate(".concat(t.margin.left,", ").concat(t.margin.top,")")},o.a.createElement(ke.Provider,{value:t},a))))},xe=a(15),Ae=function(e){var t=Object(d.a)({margin:{top:40,right:30,bottom:40,left:75},width:0,height:0},e);return Object(d.a)(Object(d.a)({},t),{},{boundedWidth:Math.max(t.width-t.margin.left-t.margin.right,0),boundedHeight:Math.max(t.height-t.margin.top-t.margin.bottom,0)})},Te=a(90),Ie=a.n(Te),Me=function(e){var t=e.xAccessor,a=e.yAccessor,l=e.data,i=e.color,u=e.curve,s=void 0===u?n.linear:u,m=e.fillType,d=void 0===m?r.full:m,f=Object(c.useRef)(null),b=Object(c.useMemo)((function(){switch(s){case n.basis:return xe.curveBasis;case n.monotoneX:return xe.curveMonotoneX;case n.monotoneY:return xe.curveMonotoneY;case n.natural:return xe.curveNatural;case n.step:return xe.curveStep;case n.stepBefore:return xe.curveStepBefore;case n.stepAfter:return xe.curveStepAfter;case n.linear:default:return xe.curveLinear}}),[s]),v=Object(c.useMemo)((function(){return xe.line().curve(b).x(t).y(a)}),[t,a,b]);return Object(c.useEffect)((function(){f.current&&xe.select(f.current).datum(l).attr("d",v)}),[f.current,v]),o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{ref:f,fill:"none",strokeWidth:3,stroke:i,strokeDasharray:d===r.dashArray?15:void 0}),l.map((function(e,n){return o.a.createElement(T.a,{key:n,interactive:!0,title:o.a.createElement(D.a,{className:Ie.a.tooltip,elevation:3},o.a.createElement("div",{className:Ie.a.tooltipRow},o.a.createElement("span",null,"offset:"),o.a.createElement("span",null,e.offset)),o.a.createElement("div",{className:Ie.a.tooltipRow},o.a.createElement("span",null,"value:"),o.a.createElement("span",null,e.value)))},o.a.createElement("circle",{cx:t(e),cy:a(e),r:5,fill:"transparent",stroke:i,strokeWidth:3,style:{cursor:"pointer"}}))})))},we=a(168),Le=a.n(we),Se=function(e){var t=e.scale,a=e.axisType,n=e.label,r=e.ticks,i=e.ticksToFixed,u=void 0===i?1:i,s=e.tickFormat,m=e.tickClassName,d=void 0===m?Le.a.tick:m,f=Object(c.useRef)(null),b=Object(c.useContext)(ke),v=r?xe[a](t).tickValues(function(e){var a=t.domain(),n=Object(R.a)(a,2),r=n[0],l=n[1];if(Number.isNaN(r)||Number.isNaN(l))return[];var c=[];c.push(u?r.toFixed(u):Math.ceil(r));for(var o=(l-r)/e,i=r+o;i<l-o/2;)c.push(Number(u?i.toFixed(u):Math.ceil(i))),i+=o;return c.push(u?l.toFixed(u):Math.ceil(l)),c}(r)).tickFormat(xe.format("")):xe[a](t);Object(c.useEffect)((function(){if(s&&v.tickFormat(s),f.current){var e=xe.select(f.current).call(v);switch(e.selectAll("text").attr("class",d),a){case l.bottom:e.select(".domain").remove(),e.selectAll(".tick").select("line").attr("y2",-b.boundedHeight).attr("stroke","gray").attr("stroke-dasharray","1, 3"),e.selectAll(".tick").select("text").attr("transform","translate(0, 5)");break;case l.left:e.select(".domain").remove(),e.selectAll(".tick").select("line").attr("x2",b.boundedWidth).attr("stroke","gray").attr("stroke-dasharray","1, 3"),e.selectAll(".tick").select("text").attr("transform","translate(-10, 0)")}}}),[f.current,t,b]);var h=Object(c.useMemo)((function(){switch(a){case l.bottom:return"translate(".concat(b.boundedWidth/2,", ").concat(b.margin.bottom-4,")");case l.left:return"translate(".concat(14-b.margin.left,", ").concat(b.boundedHeight/2,") rotate(270)");default:return""}}),[a,b.boundedWidth,b.boundedHeight]);return o.a.createElement("g",{ref:f,transform:a===l.bottom?"translate(0, ".concat(b.boundedHeight,")"):"translate(3, 0)","data-testid":"axis"},n&&o.a.createElement("text",{transform:h,fill:"black",textAnchor:"middle"},n))},Re=function(){var e=function(e){var t=Object(c.createRef)(),a=Object(c.useMemo)((function(){return Ae(Object(d.a)({},e))}),[]),n=Object(c.useState)(a.width),r=Object(R.a)(n,2),l=r[0],o=r[1],i=Object(c.useState)(a.height),u=Object(R.a)(i,2),s=u[0],m=u[1],f=Object(c.useMemo)((function(){return new ResizeObserver((function(t){var a,n=null===(a=t[0])||void 0===a?void 0:a.contentRect;(null===e||void 0===e?void 0:e.width)||o(null===n||void 0===n?void 0:n.width),(null===e||void 0===e?void 0:e.height)||m(null===n||void 0===n?void 0:n.height)}))}),[]);Object(c.useEffect)((function(){var a=t.current;return a&&(o((null===e||void 0===e?void 0:e.width)||a.offsetWidth),m((null===e||void 0===e?void 0:e.height)||a.offsetHeight),f.observe(a)),function(){a&&f.unobserve(a)}}),[t.current]);var b=Ae(Object(d.a)(Object(d.a)({},a),{},{width:l,height:s}));return[t,b]}({margin:{bottom:50,right:50,left:50,top:50}}),t=Object(R.a)(e,2),a=t[0],n=t[1],r=Object(s.c)((function(e){return e.chart.lines})),i=Object(c.useCallback)((function(e){return e.offset}),[]),u=Object(c.useCallback)((function(e){return e.value}),[]),m=Object(c.useMemo)((function(){return xe.scaleLinear().domain(xe.extent(r.map((function(e){return e.data})).flat(1/0),i)).range([0,n.boundedWidth])}),[r,n]),f=Object(c.useMemo)((function(){return xe.scaleLinear().domain(xe.extent(r.map((function(e){return e.data})).flat(1/0),u)).nice().range([n.boundedHeight,0])}),[r,n]);return o.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}},o.a.createElement(ye,{dimensions:n},o.a.createElement(Se,{axisType:l.bottom,scale:m}),o.a.createElement(Se,{axisType:l.left,scale:f}),r.map((function(e){return o.a.createElement(Me,{key:e.id,xAccessor:function(e){return m(i(e))},yAccessor:function(e){return f(u(e))},data:e.data,curve:e.curve,color:e.color,fillType:e.fillType})}))))},Be=a(33),Fe=a.n(Be),He=function(){var e=Object(c.useState)(!1),t=Object(R.a)(e,2),a=t[0],n=t[1];return o.a.createElement("div",{className:Fe.a.container},o.a.createElement("header",{className:ge()(Fe.a.header,Object(j.a)({},Fe.a.headerShift,a))},o.a.createElement(I.a,{className:Fe.a.menuButton,onClick:function(){return n(!a)}},a?o.a.createElement(Oe.a,null):o.a.createElement(Ee.a,null)),o.a.createElement("h1",{className:Fe.a.title},"Simple chart editor")),o.a.createElement(he.a,{open:a,anchor:"left",variant:"persistent",className:Fe.a.menu,classes:{paper:Fe.a.menu}},o.a.createElement(ue,null)),o.a.createElement("main",{className:ge()(Fe.a.main,Object(j.a)({},Fe.a.mainShift,a))},o.a.createElement(Re,null)))};u.a.render(o.a.createElement(fe.a,{theme:ve},o.a.createElement(s.a,{store:de},o.a.createElement(He,null))),document.getElementById("root"))},63:function(e,t,a){e.exports={container:"LineAdjusterTab_container__3FAcj",button:"LineAdjusterTab_button__2NvwW",table:"LineAdjusterTab_table__1hZ5V"}},64:function(e,t,a){e.exports={container:"ColorPicker_container__349Rz",label:"ColorPicker_label__1Ymn9",input:"ColorPicker_input__1Qkrd",icon:"ColorPicker_icon__2TU7G"}},90:function(e,t,a){e.exports={tooltip:"Line_tooltip__pj0SV",tooltipRow:"Line_tooltipRow__2ZrMV"}}},[[178,1,2]]]);
//# sourceMappingURL=main.9b5c4d8a.chunk.js.map