(this["webpackJsonpsimple-chart-editor"]=this["webpackJsonpsimple-chart-editor"]||[]).push([[0],{111:function(e,t,a){e.exports={container:"MenuTabs_container__n1KG1",slider:"MenuTabs_slider__RNfST"}},113:function(e,t,a){e.exports={container:"Chart_container__3SDj1",chart:"Chart_chart__21AJE"}},154:function(e,t,a){e.exports={container:"CoreAdjusterTab_container__3mmIh"}},155:function(e,t,a){e.exports={container:"Select_container__14ZIf"}},161:function(e,t,a){e.exports={container:"Input_container__1fHr_"}},164:function(e,t,a){e.exports={container:"Menu_container__3OY_Q"}},167:function(e,t,a){e.exports={label:"Axis_label__3WUIH",tick:"Axis_tick__22G0b"}},177:function(e,t,a){e.exports=a(350)},33:function(e,t,a){e.exports={container:"App_container__2i36C",header:"App_header__3MgOT",headerShift:"App_headerShift__2QOBj",title:"App_title__2C-7r",menuButton:"App_menuButton__3Kpmo",menu:"App_menu__X-A5N",main:"App_main__aDOxM",mainShift:"App_mainShift__2UwM6"}},350:function(e,t,a){"use strict";a.r(t);var n,r,l,c=a(0),o=a.n(c),i=a(9),u=a.n(i),s=a(29),d=a(59),m=a(10);!function(e){e[e.linear=0]="linear",e[e.basis=1]="basis",e[e.monotoneX=2]="monotoneX",e[e.monotoneY=3]="monotoneY",e[e.natural=4]="natural",e[e.step=5]="step",e[e.stepBefore=6]="stepBefore",e[e.stepAfter=7]="stepAfter"}(n||(n={})),function(e){e[e.full=0]="full",e[e.dashArray=1]="dashArray"}(r||(r={})),function(e){e.bottom="axisBottom",e.left="axisLeft"}(l||(l={}));var b=a(394),f=a(391),v=a(111),h=a.n(v),p=function(e){var t=Object(c.useRef)(null),a=Object(c.useMemo)((function(){return e.tabs.findIndex((function(t){return t.tabId===e.selectedTabId}))}),[e.selectedTabId,e.tabs]),n=Object(c.useMemo)((function(){return t.current?t.current.getBoundingClientRect().width:0}),[t.current]);return o.a.createElement("div",{className:h.a.container,ref:t},o.a.createElement("div",{className:h.a.slider,style:{transform:"translateX(-".concat(a*n,"px)")}},e.tabs.map((function(e){return o.a.createElement(e.component,Object(m.a)(Object(m.a)({},e.props),{},{key:e.tabId}))}))))},E=a(154),O=a.n(E),_=function(){return o.a.createElement("div",{className:O.a.container},o.a.createElement("p",null,"\u0422\u0443\u0442 \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438, \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u043e\u0441\u0435\u0439, \u044d\u043a\u0441\u043f\u043e\u0440\u0442/\u0438\u043c\u043f\u043e\u0440\u0442 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432, \u0438 \u0442.\u0434."))},j=a(45),g=a(393),C=a(397),N=a(155),k=a.n(N),y=function(e){var t=e.label,a=e.options,n=e.value,r=e.onChange,l=e.disabled;return o.a.createElement("div",{className:k.a.container},o.a.createElement("label",null,t),o.a.createElement("div",null,o.a.createElement(g.a,{value:n,onChange:function(e){return r(e.target.value)},fullWidth:!0,disabled:l},a.map((function(e){return o.a.createElement(C.a,{key:e.value,value:e.value},e.label)})))))},x=[{value:n.linear,label:"linear"},{value:n.basis,label:"basis"},{value:n.monotoneX,label:"monotone x"},{value:n.monotoneY,label:"monotone y"},{value:n.natural,label:"natural"},{value:n.step,label:"step"},{value:n.stepBefore,label:"step before"},{value:n.stepAfter,label:"step after"}],A=[{value:r.full,label:"\u0437\u0430\u043b\u0438\u0432\u043a\u0430"},{value:r.dashArray,label:"\u043f\u0443\u043d\u043a\u0442\u0438\u0440"}],T=a(398),I=a(384),M=a(159),w=a(64),L=a.n(w),S=function(e){var t=e.label,a=e.value,n=e.onChange,r=e.disabled;return o.a.createElement("div",{className:L.a.container},o.a.createElement("label",{className:L.a.label},t),o.a.createElement("div",{className:L.a.input},o.a.createElement(T.a,{interactive:!0,disableFocusListener:r,disableHoverListener:r,disableTouchListener:r,title:o.a.createElement(M.ChromePicker,{color:a,onChange:function(e){return n(e.hex)}})},o.a.createElement(I.a,{disabled:r},o.a.createElement("div",{className:L.a.icon,style:{background:a}})))))},B=a(19),R=a(377),F=a(161),H=a.n(F),P=function(e){var t=e.label,a=e.value,n=e.onChange,r=e.disabled,l=Object(c.useState)(e.value),i=Object(B.a)(l,2),u=i[0],s=i[1];Object(c.useEffect)((function(){a!==u&&s(e.value)}),[a]);return o.a.createElement("div",{className:H.a.container},o.a.createElement("label",null,t),o.a.createElement("div",null,o.a.createElement(R.a,{value:u,onChange:function(e){s(e.target.value)},onFocus:function(e){return e.target.select()},onBlur:function(){u!==e.value&&n(u)},disabled:r})))},W=a(63),V=a.n(W),D=a(383),Y=a(385),U=a(386),X=a(387),z=a(388),G=a(389),J=a(162),Q=a.n(J),K=a(163),Z=a.n(K),$=a(89),q=a.n($),ee=function(e){var t=e.data,a=e.onChange,n=e.disabled,r=Object(c.useState)(null),l=Object(B.a)(r,2),i=l[0],u=l[1],s=Object(c.useState)({offset:0,value:0}),d=Object(B.a)(s,2),b=d[0],f=d[1];Object(c.useEffect)((function(){Number(i)===i&&f(t[i])}),[i]);var v=Object(c.useMemo)((function(){var e;return(null===(e=t[t.length-1])||void 0===e?void 0:e.offset)||0}),[t]),h=Object(c.useMemo)((function(){var e;return(null===(e=t[t.length-1])||void 0===e?void 0:e.value)||0}),[t]),p=Object(c.useState)({offset:0,value:0}),E=Object(B.a)(p,2),O=E[0],_=E[1];Object(c.useEffect)((function(){_({offset:v,value:h})}),[v,h]);return o.a.createElement(D.a,{className:V.a.table},o.a.createElement(Y.a,{stickyHeader:!0,"aria-label":"sticky table"},o.a.createElement(U.a,null,o.a.createElement(X.a,null,o.a.createElement(z.a,null,"Offset"),o.a.createElement(z.a,null,"Value"),o.a.createElement(z.a,null,"Edit"))),o.a.createElement(G.a,null,t.map((function(e,r){var l=e.offset,c=e.value;return o.a.createElement(X.a,{key:r},o.a.createElement(z.a,null,i===r?o.a.createElement(R.a,{defaultValue:l,type:"number",value:b.offset,onFocus:function(e){return e.target.select()},onChange:function(e){return f(Object(m.a)(Object(m.a)({},b),{},{offset:e.target.value}))}}):l),o.a.createElement(z.a,null,i===r?o.a.createElement(R.a,{defaultValue:c,type:"number",value:b.value,onFocus:function(e){return e.target.select()},onChange:function(e){return f(Object(m.a)(Object(m.a)({},b),{},{value:e.target.value}))}}):c),o.a.createElement(z.a,null,i===r?o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){u(null),function(){if(""===b.offset&&""===b.value)return a(t.filter((function(e,t){return t!==i})));a(t.map((function(e,t){return t===i?{offset:Number(b.offset),value:Number(b.value)}:e})))}()}},o.a.createElement(Q.a,null)):o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){return u(r)}},o.a.createElement(Z.a,null))))})),!n&&o.a.createElement(X.a,null,o.a.createElement(z.a,null,o.a.createElement(R.a,{defaultValue:v,value:O.offset,type:"number",onFocus:function(e){return e.target.select()},onChange:function(e){return _(Object(m.a)(Object(m.a)({},O),{},{offset:e.target.value}))}})),o.a.createElement(z.a,null,o.a.createElement(R.a,{defaultValue:h,value:O.value,type:"number",onFocus:function(e){return e.target.select()},onChange:function(e){return _(Object(m.a)(Object(m.a)({},O),{},{value:e.target.value}))}})),o.a.createElement(z.a,null,o.a.createElement(I.a,{size:"small",disabled:n,onClick:function(){a(t.concat({offset:Number(O.offset),value:Number(O.value)}))}},o.a.createElement(q.a,null)))))))},te=a(390),ae=function(e){var t=Object(s.c)((function(t){return t.chart.currentLine!==e.lineId})),a=Object(s.c)((function(t){return t.chart.lines.find((function(t){return t.id===e.lineId}))})),n=Object(s.b)(),r=Object(c.useCallback)((function(e){return Object(c.useCallback)((function(t){return n((r=a.id,l=Object(j.a)({},e,t),{type:"UPDATE_LINE_ACTION",id:r,settings:l}));var r,l}),[e])}),[a.id]);return o.a.createElement("div",{className:V.a.container},o.a.createElement("h3",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:"),o.a.createElement(P,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:",value:a.label,onChange:r("label"),disabled:t}),o.a.createElement(y,{label:"\u0422\u0438\u043f \u043a\u0440\u0438\u0432\u043e\u0439:",options:x,value:a.curve,onChange:r("curve"),disabled:t}),o.a.createElement(S,{label:"\u0426\u0432\u0435\u0442 \u043b\u0438\u043d\u0438\u0438:",value:a.color,onChange:r("color"),disabled:t}),o.a.createElement(y,{label:"\u0422\u0438\u043f \u0437\u0430\u043b\u0438\u0432\u043a\u0438:",options:A,value:a.fillType,onChange:r("fillType"),disabled:t}),o.a.createElement(te.a,{onClick:function(){return n({type:"REMOVE_LINE_ACTION",id:e.lineId})},type:"button",color:"primary",variant:"contained",className:V.a.button},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement("hr",null),o.a.createElement("h3",null,"\u0414\u0430\u043d\u043d\u044b\u0435:"),o.a.createElement(ee,{data:a.data,onChange:r("data"),disabled:t}))},ne=a(165),re=a.n(ne),le=a(166),ce=a.n(le),oe=a(164),ie=a.n(oe),ue=function(){var e=Object(s.c)((function(e){return e.chart})),t=e.currentLine,a=e.lines,n=Object(c.useMemo)((function(){var e=[{tabId:"corePresets",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:o.a.createElement(re.a,null),component:_}];return a.forEach((function(t){e.push({tabId:t.id,label:t.label,icon:o.a.createElement(ce.a,{style:{color:t.color}}),component:ae,props:{lineId:t.id}})})),e}),[a]),r=Object(s.b)();return o.a.createElement("div",{className:ie.a.container},o.a.createElement(b.a,{value:t,indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"on",onChange:function(e,t){return t&&function(e){return r({type:"CHANGE_CURRENT_LINE",id:e})}(t)}},n.map((function(e){return o.a.createElement(f.a,{key:e.tabId,wrapped:!0,icon:e.icon,label:e.label,value:e.tabId})})),o.a.createElement(f.a,{key:"add",icon:o.a.createElement(q.a,null),label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",value:null,onClick:function(){r({type:"ADD_LINE_ACTION"})}})),o.a.createElement(p,{selectedTabId:t,tabs:n}))},se={currentLine:"corePresets",lines:[]},de=Object(d.b)({chart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CURRENT_LINE":return Object(m.a)(Object(m.a)({},e),{},{currentLine:t.id});case"ADD_LINE_ACTION":var a,l=((null===(a=e.lines[e.lines.length-1])||void 0===a?void 0:a.id)||0)+1;return Object(m.a)(Object(m.a)({},e),{},{lines:e.lines.concat({id:l,color:"gray",data:[],curve:n.linear,label:"\u041d\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f",fillType:r.full}),currentLine:l});case"REMOVE_LINE_ACTION":var c="corePresets",o=e.lines.filter((function(e,a,n){var r,l=e.id!==t.id;return l&&(null===(r=n[a])||void 0===r?void 0:r.id)&&(c=n[a].id),l}));return Object(m.a)(Object(m.a)({},e),{},{lines:o,currentLine:c});case"UPDATE_LINE_ACTION":return Object(m.a)(Object(m.a)({},e),{},{lines:e.lines.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),t.settings):e}))});default:return e}}}),me=Object(d.c)(de),be=a(392),fe=a(170),ve=Object(fe.a)({overrides:{MuiTabs:{root:{height:"64px"},scroller:{overflowY:"hidden"},scrollButtons:{width:"30px"}},MuiTab:{wrapper:{fontSize:"10px"},labelIcon:{minWidth:"auto"},textColorPrimary:{"&$selected":{color:"#1976d2"}}},MuiButton:{containedPrimary:{backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1768ba"}}}}}),he=a(396),pe=a(169),Ee=a.n(pe),Oe=a(168),_e=a.n(Oe),je=a(112),ge=a.n(je),Ce=a(113),Ne=a.n(Ce),ke=Object(c.createContext)({width:0,height:0,margin:{top:0,right:0,bottom:0,left:0},boundedWidth:0,boundedHeight:0}),ye=function(e){var t=e.dimensions,a=e.children;return o.a.createElement("div",{className:Ne.a.container},o.a.createElement("svg",{className:Ne.a.chart},o.a.createElement("g",{transform:"translate(".concat(t.margin.left,", ").concat(t.margin.top,")")},o.a.createElement(ke.Provider,{value:t},a))))},xe=a(14),Ae=function(e){var t=Object(m.a)({margin:{top:40,right:30,bottom:40,left:75},width:0,height:0},e);return Object(m.a)(Object(m.a)({},t),{},{boundedWidth:Math.max(t.width-t.margin.left-t.margin.right,0),boundedHeight:Math.max(t.height-t.margin.top-t.margin.bottom,0)})},Te=function(e){var t=e.xAccessor,a=e.yAccessor,l=e.data,i=e.color,u=e.curve,s=void 0===u?n.linear:u,d=e.fillType,m=void 0===d?r.full:d,b=Object(c.useRef)(null),f=Object(c.useMemo)((function(){switch(s){case n.basis:return xe.curveBasis;case n.monotoneX:return xe.curveMonotoneX;case n.monotoneY:return xe.curveMonotoneY;case n.natural:return xe.curveNatural;case n.step:return xe.curveStep;case n.stepBefore:return xe.curveStepBefore;case n.stepAfter:return xe.curveStepAfter;case n.linear:default:return xe.curveLinear}}),[s]),v=xe.line().curve(f).x(t).y(a);return Object(c.useEffect)((function(){b.current&&(xe.select(b.current).datum(l).attr("d",v).attr("fill","none").attr("stroke-width",2).attr("stroke",i),m===r.dashArray&&xe.select(b.current).attr("stroke-dasharray",15))}),[b.current,l,t,a]),o.a.createElement("path",{ref:b})},Ie=a(167),Me=a.n(Ie),we=function(e){var t=e.scale,a=e.axisType,n=e.label,r=e.ticks,i=e.ticksToFixed,u=void 0===i?1:i,s=e.tickFormat,d=e.tickClassName,m=void 0===d?Me.a.tick:d,b=Object(c.useRef)(null),f=Object(c.useContext)(ke),v=r?xe[a](t).tickValues(function(e){var a=t.domain(),n=Object(B.a)(a,2),r=n[0],l=n[1];if(Number.isNaN(r)||Number.isNaN(l))return[];var c=[];c.push(u?r.toFixed(u):Math.ceil(r));for(var o=(l-r)/e,i=r+o;i<l-o/2;)c.push(Number(u?i.toFixed(u):Math.ceil(i))),i+=o;return c.push(u?l.toFixed(u):Math.ceil(l)),c}(r)).tickFormat(xe.format("")):xe[a](t);Object(c.useEffect)((function(){if(s&&v.tickFormat(s),b.current){var e=xe.select(b.current).call(v);switch(e.selectAll("text").attr("class",m),a){case l.bottom:e.select(".domain").remove(),e.selectAll(".tick").select("line").attr("y2",-f.boundedHeight).attr("stroke","gray").attr("stroke-dasharray","1, 3"),e.selectAll(".tick").select("text").attr("transform","translate(0, 5)");break;case l.left:e.select(".domain").remove(),e.selectAll(".tick").select("line").attr("x2",f.boundedWidth).attr("stroke","gray").attr("stroke-dasharray","1, 3"),e.selectAll(".tick").select("text").attr("transform","translate(-10, 0)")}}}),[b.current,t,f]);var h=Object(c.useMemo)((function(){switch(a){case l.bottom:return"translate(".concat(f.boundedWidth/2,", ").concat(f.margin.bottom-4,")");case l.left:return"translate(".concat(14-f.margin.left,", ").concat(f.boundedHeight/2,") rotate(270)");default:return""}}),[a,f.boundedWidth,f.boundedHeight]);return o.a.createElement("g",{ref:b,transform:a===l.bottom?"translate(0, ".concat(f.boundedHeight,")"):"translate(3, 0)","data-testid":"axis"},n&&o.a.createElement("text",{transform:h,fill:"black",textAnchor:"middle"},n))},Le=function(){var e=function(e){var t=Object(c.createRef)(),a=Object(c.useMemo)((function(){return Ae(Object(m.a)({},e))}),[]),n=Object(c.useState)(a.width),r=Object(B.a)(n,2),l=r[0],o=r[1],i=Object(c.useState)(a.height),u=Object(B.a)(i,2),s=u[0],d=u[1],b=Object(c.useMemo)((function(){return new ResizeObserver((function(t){var a,n=null===(a=t[0])||void 0===a?void 0:a.contentRect;(null===e||void 0===e?void 0:e.width)||o(null===n||void 0===n?void 0:n.width),(null===e||void 0===e?void 0:e.height)||d(null===n||void 0===n?void 0:n.height)}))}),[]);Object(c.useEffect)((function(){var a=t.current;return a&&(o((null===e||void 0===e?void 0:e.width)||a.offsetWidth),d((null===e||void 0===e?void 0:e.height)||a.offsetHeight),b.observe(a)),function(){a&&b.unobserve(a)}}),[t.current]);var f=Ae(Object(m.a)(Object(m.a)({},a),{},{width:l,height:s}));return[t,f]}({margin:{bottom:50,right:50,left:50,top:50}}),t=Object(B.a)(e,2),a=t[0],n=t[1],r=Object(s.c)((function(e){return e.chart.lines})),i=Object(c.useCallback)((function(e){return e.offset}),[]),u=Object(c.useCallback)((function(e){return e.value}),[]),d=Object(c.useMemo)((function(){return xe.scaleLinear().domain(xe.extent(r.map((function(e){return e.data})).flat(1/0),i)).range([0,n.boundedWidth])}),[r,n]),b=Object(c.useMemo)((function(){return xe.scaleLinear().domain(xe.extent(r.map((function(e){return e.data})).flat(1/0),u)).nice().range([n.boundedHeight,0])}),[r,n]);return o.a.createElement("div",{ref:a,style:{width:"100%",height:"100%"}},o.a.createElement(ye,{dimensions:n},o.a.createElement(we,{axisType:l.bottom,scale:d}),o.a.createElement(we,{axisType:l.left,scale:b}),r.map((function(e){return o.a.createElement(Te,{key:e.id,xAccessor:function(e){return d(i(e))},yAccessor:function(e){return b(u(e))},data:e.data,curve:e.curve,color:e.color,fillType:e.fillType})}))))},Se=a(33),Be=a.n(Se),Re=function(){var e=Object(c.useState)(!1),t=Object(B.a)(e,2),a=t[0],n=t[1];return o.a.createElement("div",{className:Be.a.container},o.a.createElement("header",{className:ge()(Be.a.header,Object(j.a)({},Be.a.headerShift,a))},o.a.createElement(I.a,{className:Be.a.menuButton,onClick:function(){return n(!a)}},a?o.a.createElement(_e.a,null):o.a.createElement(Ee.a,null)),o.a.createElement("h1",{className:Be.a.title},"Simple chart editor")),o.a.createElement(he.a,{open:a,anchor:"left",variant:"persistent",className:Be.a.menu,classes:{paper:Be.a.menu}},o.a.createElement(ue,null)),o.a.createElement("main",{className:ge()(Be.a.main,Object(j.a)({},Be.a.mainShift,a))},o.a.createElement(Le,null)))};u.a.render(o.a.createElement(be.a,{theme:ve},o.a.createElement(s.a,{store:me},o.a.createElement(Re,null))),document.getElementById("root"))},63:function(e,t,a){e.exports={container:"LineAdjusterTab_container__3FAcj",button:"LineAdjusterTab_button__2NvwW",table:"LineAdjusterTab_table__1hZ5V"}},64:function(e,t,a){e.exports={container:"ColorPicker_container__349Rz",label:"ColorPicker_label__1Ymn9",input:"ColorPicker_input__1Qkrd",icon:"ColorPicker_icon__2TU7G"}}},[[177,1,2]]]);
//# sourceMappingURL=main.5c90f275.chunk.js.map